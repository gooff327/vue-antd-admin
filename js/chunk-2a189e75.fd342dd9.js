(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a189e75"],{1256:function(e,t,s){"use strict";var r=s("c05a"),n=s.n(r);n.a},c05a:function(e,t,s){},c975:function(e,t,s){"use strict";var r=s("23e7"),n=s("4d64").indexOf,c=s("b301"),a=[].indexOf,i=!!a&&1/[1].indexOf(1,-0)<0,o=c("indexOf");r({target:"Array",proto:!0,forced:i||o},{indexOf:function(e){return i?a.apply(this,arguments)||0:n(this,e,arguments.length>1?arguments[1]:void 0)}})},eb65:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"permission-wrapper"},[s("div",{staticClass:"steps-wrapper"},[s("a-steps",{attrs:{current:e.current}},e._l(e.steps,(function(e){return s("a-step",{key:e.title,attrs:{title:e.title}})})),1)],1),s("div",{staticClass:"steps-content"},[s("br"),s("a-alert",{attrs:{message:e.steps[e.current].content,closable:!1}}),s("div",{directives:[{name:"show",rawName:"v-show",value:0===e.current,expression:"current === 0"}],staticClass:"card-wrapper"},e._l(e.userList,(function(t){return s("a-card",{key:t.id.value,staticStyle:{width:"160px","border-radius":"6px"},attrs:{hoverable:""}},[s("img",{attrs:{slot:"cover",alt:"example",src:t.picture.large},slot:"cover"}),s("template",{staticClass:"ant-card-actions",slot:"actions"},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("a-icon",{attrs:{type:e.checkedUsers.hasOwnProperty(t.login.uuid)?"check":"plus"},on:{click:function(s){return e.onCheckChange(t)}}})],1)],1),s("a-card-meta",{attrs:{title:t.name.first+","+t.name.last,description:t.login.username}})],2)})),1),s("div",{directives:[{name:"show",rawName:"v-show",value:1===e.current,expression:"current === 1"}],staticClass:"tree-wrapper"},[s("a-tree",{attrs:{checkable:!0,replaceFields:e.replaceFields,treeData:e.$store.getters.menus},model:{value:e.checkedMenus,callback:function(t){e.checkedMenus=t},expression:"checkedMenus"}})],1)],1),s("div",{staticClass:"steps-action"},[s("a-button",{directives:[{name:"show",rawName:"v-show",value:e.current<e.steps.length-1&&Object.keys(e.checkedUsers).length>0,expression:"current < steps.length - 1 && Object.keys(checkedUsers).length > 0"}],attrs:{type:"primary"},on:{click:e.next}},[e._v(" Next ")]),s("a-button",{directives:[{name:"show",rawName:"v-show",value:Object.keys(e.checkedUsers).length>0&&0===e.current,expression:"Object.keys(checkedUsers).length > 0 && current === 0"}],attrs:{type:"danger"}},[e._v("Delete")]),s("a-button",{directives:[{name:"show",rawName:"v-show",value:e.current===e.steps.length-1,expression:"current === steps.length - 1"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" Done ")]),s("a-button",{directives:[{name:"show",rawName:"v-show",value:e.current>0,expression:"current>0"}],staticStyle:{"margin-left":"8px"},on:{click:e.prev}},[e._v(" Previous ")])],1)])},n=[],c=(s("caad"),s("c975"),s("d81d"),s("a434"),s("b0c0"),s("2532"),{name:"Permission",data:function(){return{current:0,steps:[{title:"First",content:"Choose users to Configure permission"},{title:"Second",content:"Configure available menu for selected users"},{title:"Last",content:"Please confirm your changes"}],userList:[],checkedUsers:{},checkedMenus:[],replaceFields:{title:"name",key:"name"}}},mounted:function(){this.userList=this.$store.getters.users},methods:{next:function(){this.current++,2===this.current&&console.log(this.checkedMenus)},prev:function(){this.current--},submit:function(){var e=this,t=this.$store.getters.menus,s=this.$store.getters.self.role;t.map((function(t){var r=t.meta.roles.indexOf(s);e.checkedMenus.includes(t.name)?-1===r&&t.meta.roles.push(s):-1!==r&&t.meta.roles.splice(r,1)})),this.$store.dispatch("changeMenus",t)},onCheckChange:function(e){this.checkedUsers.hasOwnProperty(e.login.uuid)?this.$delete(this.checkedUsers,"".concat(e.login.uuid)):this.$set(this.checkedUsers,"".concat(e.login.uuid),e)}}}),a=c,i=(s("1256"),s("2877")),o=Object(i["a"])(a,r,n,!1,null,"4e156c4d",null);t["default"]=o.exports}}]);
//# sourceMappingURL=chunk-2a189e75.fd342dd9.js.map